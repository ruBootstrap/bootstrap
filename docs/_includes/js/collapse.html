<div class="bs-docs-section">
  <h1 id="collapse" class="page-header">Сворачивание <small>collapse.js</small></h1>

  <p class="lead">Гибкий плагин, использующий несколько классов для простого поведения переключения.</p>

  <div class="bs-callout bs-callout-danger" id="callout-collapse-dependency">
    <h4>Зависимость от плагина</h4>
    <p>Для работы collapse требуется <a href="#transitions">плагин transitions</a> в вашей версии Bootstrap.</p>
  </div>

  <h2 id="collapse-example">Пример</h2>
  <p>Нажмите на кнопки ниже, чтобы показать или скрыть другой элемент с помощью изменения классов:</p>
  <ul>
    <li><code>.collapse</code> скрывает содержимое</li>
    <li><code>.collapsing</code> применяется во время перехода</li>
    <li><code>.collapse.in</code> показывает содержимое</li>
  </ul>
  <p>Вы можете использовать ссылку с атрибутом <code>href</code> или кнопку с атрибутом <code>data-target</code>. В обоих случаях требуется <code>data-toggle="collapse"</code>.</p>

  <div class="bs-example">
    <p>
      <a class="btn btn-primary" role="button" data-toggle="collapse" href="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
        Link with href
      </a>
      <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
        Button with data-target
      </button>
    </p>
    <div class="collapse" id="collapseExample">
      <div class="well">
        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.
      </div>
    </div>
  </div>
{% highlight html %}
<a class="btn btn-primary" role="button" data-toggle="collapse" href="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
  Link with href
</a>
<button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
  Button with data-target
</button>
<div class="collapse" id="collapseExample">
  <div class="well">
    ...
  </div>
</div>
{% endhighlight %}

  <h2 id="collapse-example-accordion">Пример аккордеона</h2>
  <p>Расширьте стандартное поведение collapse, чтобы создать аккордеон с помощью компонента panel.</p>

  <div class="bs-example" data-example-id="collapse-accordion">
    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingOne">
          <h4 class="panel-title">
            <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              Collapsible Group Item #1
            </a>
          </h4>
        </div>
        <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
          </div>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingTwo">
          <h4 class="panel-title">
            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              Collapsible Group Item #2
            </a>
          </h4>
        </div>
        <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
          </div>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingThree">
          <h4 class="panel-title">
            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              Collapsible Group Item #3
            </a>
          </h4>
        </div>
        <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
          </div>
        </div>
      </div>
    </div>
  </div><!-- /example -->
{% highlight html %}
<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingOne">
      <h4 class="panel-title">
        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          Collapsible Group Item #1
        </a>
      </h4>
    </div>
    <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
      <div class="panel-body">
        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingTwo">
      <h4 class="panel-title">
        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
          Collapsible Group Item #2
        </a>
      </h4>
    </div>
    <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
      <div class="panel-body">
        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingThree">
      <h4 class="panel-title">
        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          Collapsible Group Item #3
        </a>
      </h4>
    </div>
    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
      <div class="panel-body">
        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
      </div>
    </div>
  </div>
</div>
{% endhighlight %}

  <p>Также возможно заменить <code>.panel-body</code> на <code>.list-group</code>.</p>

  <div class="panel-group" role="tablist">
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="collapseListGroupHeading1">
        <h4 class="panel-title">
          <a class="collapsed" role="button" data-toggle="collapse" href="#collapseListGroup1" aria-expanded="false" aria-controls="collapseListGroup1">
            Сворачиваемый список
          </a>
        </h4>
      </div>
      <div id="collapseListGroup1" class="panel-collapse collapse" role="tabpanel" aria-labelledby="collapseListGroupHeading1">
        <ul class="list-group">
          <li class="list-group-item">Bootply</li>
          <li class="list-group-item">One itmus ac facilin</li>
          <li class="list-group-item">Second eros</li>
        </ul>
        <div class="panel-footer">Футер</div>
      </div>
    </div>
  </div>

  <div class="bs-callout bs-callout-warning" id="callout-collapse-accessibility">
    <h4>Сделайте элементы управления разворачиванием доступными</h4>
    <p>Обязательно добавьте <code>aria-expanded</code> к управляющему элементу. Этот атрибут явно определяет текущее состояние сворачиваемого элемента для скринридеров и других вспомогательных технологий. Если элемент по умолчанию закрыт, значение должно быть <code>aria-expanded="false"</code>. Если элемент открыт по умолчанию с помощью класса <code>in</code>, установите <code>aria-expanded="true"</code> на управляющем элементе. Плагин автоматически переключает этот атрибут в зависимости от состояния.</p>
    <p>Если управляющий элемент связан только с одним сворачиваемым элементом (т.е. <code>data-target</code> указывает на <code>id</code>), можно добавить дополнительный атрибут <code>aria-controls</code> с <code>id</code> сворачиваемого элемента. Современные скринридеры используют этот атрибут для предоставления пользователям дополнительных возможностей навигации.</p>
  </div>

  <h2 id="collapse-usage">Использование</h2>
  <p>Плагин collapse использует несколько классов для основной работы:</p>
  <ul>
    <li><code>.collapse</code> скрывает содержимое</li>
    <li><code>.collapse.in</code> показывает содержимое</li>
    <li><code>.collapsing</code> добавляется при начале перехода и удаляется после завершения</li>
  </ul>
  <p>Эти классы находятся в <code>component-animations.less</code>.</p>

  <h3>Через data-атрибуты</h3>
  <p>Просто добавьте <code>data-toggle="collapse"</code> и <code>data-target</code> к элементу, чтобы автоматически управлять сворачиванием. Атрибут <code>data-target</code> принимает CSS-селектор для применения collapse. Для открытия по умолчанию добавьте класс <code>in</code>.</p>
  <p>Чтобы добавить аккордеоноподобное поведение, добавьте атрибут <code>data-parent="#selector"</code>. Смотрите пример выше.</p>

  <h3>Через JavaScript</h3>
  <p>Включите вручную так:</p>
{% highlight js %}
$('.collapse').collapse()
{% endhighlight %}

  <h3 id="collapse-options">Опции</h3>
  <p>Опции можно передавать через data-атрибуты или JavaScript. Для data-атрибутов добавьте имя опции к <code>data-</code>, например <code>data-parent=""</code>.</p>
  <div class="table-responsive">
    <table class="table table-bordered table-striped js-options-table">
      <thead>
       <tr>
         <th>Имя</th>
         <th>Тип</th>
         <th>По умолчанию</th>
         <th>Описание</th>
       </tr>
      </thead>
      <tbody>
       <tr>
         <td>parent</td>
         <td>selector</td>
         <td>false</td>
         <td>Если указан селектор, все сворачиваемые элементы внутри указанного родителя будут закрываться при открытии этого элемента. (аналогично поведению аккордеона — зависит от класса <code>panel</code>)</td>
       </tr>
       <tr>
         <td>toggle</td>
         <td>boolean</td>
         <td>true</td>
         <td>Переключает сворачиваемый элемент при вызове</td>
       </tr>
      </tbody>
    </table>
  </div><!-- /.table-responsive -->

  <h3 id="collapse-methods">Методы</h3>

  <h4><code>.collapse(options)</code></h4>
  <p>Активирует ваш элемент как сворачиваемый. Принимает необязательный объект опций <code>object</code>.</p>
{% highlight js %}
$('#myCollapsible').collapse({
  toggle: false
})
{% endhighlight %}

  <h4><code>.collapse('toggle')</code></h4>
  <p>Переключает элемент между свернутым и развернутым состоянием. <strong>Возвращает управление до фактического завершения перехода</strong> (т.е. до событий <code>shown.bs.collapse</code> или <code>hidden.bs.collapse</code>).</p>

  <h4><code>.collapse('show')</code></h4>
  <p>Показывает сворачиваемый элемент. <strong>Возвращает управление до фактического завершения показа</strong> (т.е. до события <code>shown.bs.collapse</code>).</p>

  <h4><code>.collapse('hide')</code></h4>
  <p>Скрывает сворачиваемый элемент. <strong>Возвращает управление до фактического завершения скрытия</strong> (т.е. до события <code>hidden.bs.collapse</code>).</p>

  <h3 id="collapse-events">События</h3>
  <p>Класс collapse в Bootstrap предоставляет несколько событий для подключения к функционалу сворачивания.</p>
  <div class="table-responsive">
    <table class="table table-bordered table-striped bs-events-table">
      <thead>
       <tr>
         <th>Тип события</th>
         <th>Описание</th>
       </tr>
      </thead>
      <tbody>
       <tr>
         <td>show.bs.collapse</td>
         <td>Это событие срабатывает сразу при вызове метода <code>show</code>.</td>
       </tr>
       <tr>
         <td>shown.bs.collapse</td>
         <td>Это событие срабатывает, когда элемент стал видимым для пользователя (ожидает завершения CSS-переходов).</td>
       </tr>
       <tr>
         <td>hide.bs.collapse</td>
         <td>
          Это событие срабатывает сразу при вызове метода <code>hide</code>.
         </td>
       </tr>
       <tr>
         <td>hidden.bs.collapse</td>
         <td>Это событие срабатывает, когда элемент был скрыт от пользователя (ожидает завершения CSS-переходов).</td>
       </tr>
      </tbody>
    </table>
  </div><!-- /.table-responsive -->
{% highlight js %}
$('#myCollapsible').on('hidden.bs.collapse', function () {
  // do something…
})
{% endhighlight %}
</div>
