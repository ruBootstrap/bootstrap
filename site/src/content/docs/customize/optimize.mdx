---
title: Оптимизация
description: Поддерживайте лаконичность, гибкость и удобство обслуживания своих проектов, чтобы вы могли обеспечить наилучший опыт и сосредоточиться на более важных задачах.
toc: true
---

## Полагаться на импорт Sass

При использовании Sass в конвейере ресурсов убедитесь, что Вы оптимизируете Bootstrap, используя только `@import` компоненты, которые Вам нужны. Ваши самые большие оптимизации, вероятно, будут связаны с разделом `Макет & Компоненты` нашего `bootstrap.scss`.

<ScssDocs name="import-stack" file="scss/bootstrap.scss" />


Если вы не используете компонент, закомментируйте его или удалите его полностью. Например, если вы не используете карусель, удалите этот импорт, чтобы сэкономить размер файла в скомпилированном CSS. Помните, что существуют некоторые зависимости между импортами Sass, которые могут затруднить исключение файла.

## Полагаться на JavaScript

JavaScript Bootstrap включает в себя каждый компонент в наших основных файлах dist (`bootstrap.js` и `bootstrap.min.js`), и даже нашу основную зависимость (Popper) с нашими файлами пакетов (`bootstrap.bundle.js` и `bootstrap.bundle.min.js`). При настройке через Sass обязательно удалите связанный JavaScript.

Например, если вы используете собственный сборщик JavaScript, такой как Webpack, Parcel или Vite, вам нужно импортировать только тот JavaScript, который вы планируете использовать. В примере ниже мы показываем, как просто включить наш модальный JavaScript:

```js
// Импортируйте только то, что нам нужно

// import 'bootstrap/js/dist/alert';
// import 'bootstrap/js/dist/button';
// import 'bootstrap/js/dist/carousel';
// import 'bootstrap/js/dist/collapse';
// import 'bootstrap/js/dist/dropdown';
import 'bootstrap/js/dist/modal';
// import 'bootstrap/js/dist/offcanvas';
// import 'bootstrap/js/dist/popover';
// import 'bootstrap/js/dist/scrollspy';
// import 'bootstrap/js/dist/tab';
// import 'bootstrap/js/dist/toast';
// import 'bootstrap/js/dist/tooltip';
```

Таким образом, вы не включаете JavaScript, который не собираетесь использовать для таких компонентов, как кнопки, карусели и подсказки. Если вы импортируете раскрывающиеся списки, подсказки или поповеры, обязательно укажите зависимость Popper в файле `package.json`.

<Callout>
**Внимание!** Файлы в `bootstrap/js/dist` используют **экспорт по умолчанию**. Чтобы использовать их, сделайте следующее:

```js
import Modal from 'bootstrap/js/dist/modal'
const modal = new Modal(document.getElementById('myModal'))
```
</Callout>

## Автопрефикс .browserslistrc

Bootstrap зависит от Autoprefixer для автоматического добавления префиксов браузера к определенным свойствам CSS. Префиксы продиктованы нашим файлом `.browserslistrc`, который находится в корне репозитория Bootstrap. Настройка этого списка браузеров и перекомпиляция Sass автоматически удалит часть CSS из Вашего скомпилированного CSS, если есть префиксы поставщика, уникальные для этого браузера или версии.

## Неиспользуемый CSS

_Помощь в этом разделе нужна, рассмотрите возможность открытия PR. Спасибо!_

Хотя у нас нет готового примера использования [PurgeCSS](https://github.com/FullHuman/purgecss) с Bootstrap, есть несколько полезных статей и пошаговых инструкций, написанных сообществом. Вот несколько вариантов:

- https://medium.com/dwarves-foundation/remove-unused-css-styles-from-bootstrap-using-purgecss-88395a2c5772
- https://lukelowrey.com/automatically-removeunused-css-from-bootstrap-or-other-frameworks/

Наконец, в этой [статье CSS Tricks о неиспользуемом CSS](https://css-tricks.com/how-do-you-remove-unused-css-from-a-site/) показано, как использовать PurgeCSS и другие подобные инструменты.

## Минификация и сжатие

По возможности обязательно сжимайте весь код, который вы предоставляете посетителям. Если вы используете файлы Bootstrap dist, старайтесь придерживаться минимизированных версий (обозначаемых расширениями `.min.css` и `.min.js`). Если вы собираете Bootstrap из исходного кода с помощью собственной системы сборки, обязательно реализуйте собственные минимизаторы для HTML, CSS и JS.

## Неблокирующие файлы

Хотя минимизация и использование сжатия может показаться достаточным, создание неблокирующих файлов для ваших файлов также является большим шагом к тому, чтобы ваш сайт был хорошо оптимизирован и достаточно быстрым.

Если вы используете плагин [Lighthouse](https://developer.chrome.com/docs/lighthouse/overview/) в Google Chrome, вы могли наткнуться на FCP. Метрика [The First Contentful Paint](https://web.dev/articles/fcp) измеряет время с момента начала загрузки страницы до момента отображения любой части содержимого страницы на экране.

Вы можете улучшить FCP, отложив некритический JavaScript или CSS. Что это значит? Проще говоря, JavaScript или таблицы стилей, которые не должны присутствовать при первой отрисовке вашей страницы, должны быть помечены атрибутами `async` или `defer`.

Это гарантирует, что менее важные ресурсы загружаются позже и не блокируют первую отрисовку. С другой стороны, критически важные ресурсы могут быть включены в виде встроенных скриптов или стилей.

Если Вы хотите узнать об этом больше, об этом уже есть много отличных статей:

- https://developer.chrome.com/docs/lighthouse/performance/render-blocking-resources/
- https://web.dev/articles/defer-non-critical-css

## Всегда используйте HTTPS

Ваш веб-сайт должен быть доступен только через HTTPS-соединения в рабочей среде. HTTPS повышает безопасность, конфиденциальность и доступность всех сайтов, а также [не существует такого понятия, как нечувствительный веб-трафик](https://https.cio.gov/everything/). Шаги по настройке Вашего веб-сайта для обслуживания исключительно через HTTPS сильно различаются в зависимости от Вашей архитектуры и провайдера веб-хостинга и, следовательно, выходят за рамки этих документов.

Сайты, обслуживаемые через HTTPS, также должны получать доступ ко всем таблицам стилей, скриптам и другим ресурсам через соединения HTTPS. В противном случае вы будете отправлять пользователям [смешанный активный контент](https://developer.mozilla.org/en-US/docs/Web/Security/Mixed_content), что приведет к потенциальным уязвимостям, когда сайт может быть скомпрометирован путем изменения зависимости. Это может привести к проблемам безопасности и предупреждениям в браузере, отображаемым для пользователей. Независимо от того, получаете ли вы Bootstrap из CDN или обслуживаете его самостоятельно, убедитесь, что вы получаете к нему доступ только через соединения HTTPS.
